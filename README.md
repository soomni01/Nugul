 # 너굴마켓

 ## 🦝 프로젝트 소개 
 ![너굴마켓 로고](https://github.com/user-attachments/assets/dc5c6bb7-5a15-4538-ad7e-bed0cfd09ee8)

 **너굴마켓**은 경제적 효율성을 높이는 중고거래 플랫폼입니다.
 원하는 상품을 쉽게 검색하여 구매하고 판매하여 사용자 편의성을 높이고 실시간 채팅으로 구매자와 판매자 간의 소통을 원활하게 합니다. 
 [너굴마켓 바로기기](http://13.124.228.250:8080/ "너굴마켓 바로가기")
 
 ## 📆 프로젝트 기간
 2024/11/26 ~ 2024/12/27

 ## 🧑‍💻팀원
<table style="width: 100%; border-collapse: collapse;">
  <thead>
    <tr>
      <th style="text-align: center;">김용수L</th>
      <th style="text-align: center;">김민경</th>
      <th style="text-align: center;">김수민</th>
      <th style="text-align: center;">이석민</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center; vertical-align: middle;">
        <div style="text-align: center; width: 100%;">
          <a href="https://github.com/Qortn4925" title="Qortn4925">Qortn4925</a>
        </div>
      </td>
      <td style="text-align: center; vertical-align: middle;">
        <div style="text-align: center; width: 100%;">
          <a href="https://github.com/keaimk" title="keaimk">keaimk</a>
        </div>
      </td>
      <td style="text-align: center; vertical-align: middle;">
        <div style="text-align: center; width: 100%;">
          <a href="https://github.com/soomni01" title="soomni01">soomni01</a>
        </div>
      </td>
      <td style="text-align: center; vertical-align: middle;">
        <div style="text-align: center; width: 100%;">
          <a href="https://github.com/seokminlee24" title="seokminlee24">seokminlee24</a>
        </div>
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">• 채팅 CRUD<br>－실시간 채팅<br>• 지도(카카오 Api)<br>－카테고리별 검색, 장소 검색</td>
      <td style="text-align: center;">• 관리자<br>－회원 관리<br>－문의 관리<br>• 1:1 문의 CRUD<br>• 마이페이지<br>－가계부<br>• 결제(카카오페이)
      <td style="text-align: center;">• 메인페이지<br>• 상품<br>－상품 CRUD<br>－찜 CRUD<br>• SNS 로그인(카카오, 네이버)<br>• 후기 CRUD<br>• 마이페이지<br>－구매, 판매 / 찜 / 후기 내역 조회</td>
      <td style="text-align: center;">• 게시판<br>－게시판 CRUD<br>－댓글 CRUD<br>• 회원<br>－회원가입<br>－로그인<br>• 마이페이지<br>－회원 정보 조회/수정</td>
    </tr>
  </tbody>
</table>


 
 ## 📚 기술스택
 ### frontend
 <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black"> <img src="https://img.shields.io/badge/chakra--ui-319795?style=for-the-badge&logo=chakra-ui&logoColor=white">
 
 ### backend
<img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white"> <img src="https://img.shields.io/badge/mariaDB-003545?style=for-the-badge&logo=mariaDB&logoColor=white"> <img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"> <img src="https://img.shields.io/badge/Spring Security-6DB33F?style=for-the-badge&logo=Spring Security&logoColor=white"> <img src="https://img.shields.io/badge/amazonaws-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white"> <img src="https://img.shields.io/badge/Amazon%20EC2-FF9900?style=for-the-badge&logo=amazon-ec2&logoColor=white"> <img src="https://img.shields.io/badge/Amazon%20S3-569A31?style=for-the-badge&logo=amazon-s3&logoColor=white"> <img src="https://img.shields.io/badge/socket.io-010101?style=for-the-badge&logo=socket.io&logoColor=white">
 
 ### tools
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"> <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white"> <img src="https://img.shields.io/badge/IntelliJ%20IDEA-000000?style=for-the-badge&logo=intellij-idea&logoColor=white">
 
 ## 🗂️ ERD
 ![KakaoTalk_20241223_190733002](https://github.com/user-attachments/assets/7f5009e2-87ba-49e0-b55d-96165de058c5)
 
 ## ⚙ 화면구현  <div style="text-align: center; width: 100%;">
          <a href="https://github.com/soomni01" title="soomni01">soomni01</a>
        </div>
      </td>
      <td style="text-align: center; vertical-align: middle;">
        <div style="text-align: center; width: 100%;">
          <a href="https://github.com/seokminlee24" title="seokminlee24">seokminlee24</a>
        </div>
      </td>
    </tr>
    <tr>
      <td style="text-align: center;">• 채팅 CRUD<br>－실시간 채팅<br>• 지도(카카오 Api)<br>－카테고리별 검색, 장소 검색</td>
      <td style="text-align: center;">• 관리자<br>－회원 관리<br>－문의 관리<br>• 1:1 문의 CRUD<br>• 마이페이지<br>－가계부<br>• 결제(카카오페이)
      <td style="text-align: center;">• 메인페이지<br>• 상품<br>－상품 CRUD<br>－찜 CRUD<br>• SNS 로그인(카카오, 네이버)<br>• 후기 CRUD<br>• 마이페이지<br>－구매, 판매 / 찜 / 후기 내역 조회</td>
      <td style="text-align: center;">• 게시판<br>－게시판 CRUD<br>－댓글 CRUD<br>• 회원<br>－회원가입<br>－로그인<br>• 마이페이지<br>－회원 정보 조회/수정</td>
    </tr>
  </tbody>
</table>


 
 ## 📚 기술스택
 ### frontend
 <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black"> <img src="https://img.shields.io/badge/chakra--ui-319795?style=for-the-badge&logo=chakra-ui&logoColor=white">
 
 ### backend
<img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white"> <img src="https://img.shields.io/badge/mariaDB-003545?style=for-the-badge&logo=mariaDB&logoColor=white"> <img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"> <img src="https://img.shields.io/badge/amazonaws-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white"> <img src="https://img.shields.io/badge/Amazon%20EC2-FF9900?style=for-the-badge&logo=amazon-ec2&logoColor=white"> <img src="https://img.shields.io/badge/Amazon%20S3-569A31?style=for-the-badge&logo=amazon-s3&logoColor=white"> <img src="https://img.shields.io/badge/STOMP-000000?style=for-the-badge&logo=socket.io&logoColor=white">

 ### tools
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"> <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white"> <img src="https://img.shields.io/badge/IntelliJ%20IDEA-000000?style=for-the-badge&logo=intellij-idea&logoColor=white">
 
 ## 🗂️ ERD
 ![KakaoTalk_20241223_190733002](https://github.com/user-attachments/assets/7f5009e2-87ba-49e0-b55d-96165de058c5)
 
 ## ⚙ 화면구현
<details><summary>회원가입/로그인</summary> 
 
 ![회원가입](https://github.com/user-attachments/assets/91e00145-defb-4214-8734-14751948f6e9)

 ![로그인](https://github.com/user-attachments/assets/cf3b6a01-5473-43b9-81c5-6086a2104320)

 ##### 소셜 로그인 성공 시 추가 정보 작성 페이지로 이동
 ![소셜 로그인](https://github.com/user-attachments/assets/2da38baf-3b5c-452c-85df-ce4c6ab7ec8f)
</details>
<details><summary>중고거래/나눔</summary>
 
#### 상품 목록
![상품 목록](https://github.com/user-attachments/assets/a3e2fd74-8490-47d2-95b3-17697f61a6d5)
![상품 목록 나눔](https://github.com/user-attachments/assets/129a070a-5644-48f8-9774-fb4c831074fc)

#### 상품 상세 페이지
![상품 상세](https://github.com/user-attachments/assets/2c5e9547-b695-461c-878f-e47576276aec)

#### 상품 등록
![상품 등록](https://github.com/user-attachments/assets/bd71f704-5fb5-4a06-b2e8-27e55a073059)

![상품 등록2](https://github.com/user-attachments/assets/71061bca-754f-4766-b219-d66db095dd5a)
</details>
<details><summary>채팅 & 결제</summary>

 ##### 상세 페이지에서 채팅하기를 통해 판매자와 채팅
![채팅1](https://github.com/user-attachments/assets/aed500fa-afa4-4437-afaf-15398b7ba36a)

##### 구매자가 결제하기 버튼을 통해 카카오페이로 결제 (판매자가 거래완료 버튼을 통해 거래 확정 가능)
![채팅2](https://github.com/user-attachments/assets/5f19ac8f-e548-4267-857b-422fe3b030e6)

##### 결제완료 후 판매자는 거래완료 표시로 변경되며 구매자는 후기 작성 버튼을 통해 후기 작성 가능
![채팅3](https://github.com/user-attachments/assets/ebb8f19e-3ff0-4290-b574-57b7ee85e1f5)

![채팅4](https://github.com/user-attachments/assets/b03d6416-8879-40b5-8a00-ff0476dfe4f8)

##### 상품 정보 보기 버튼을 통해 해당 상품의 정보를 한눈에 확인
![채팅5](https://github.com/user-attachments/assets/3f516637-0fc9-4704-ac48-0ebef1b8a7e5)

</details>
<details><summary>게시판/지도</summary>

#### 게시판
![게시판 목록](https://github.com/user-attachments/assets/8023793b-1c65-4d57-9313-6f76e2676d5a)

![게시판 상세](https://github.com/user-attachments/assets/c78c5fd8-83a3-47ad-bcc2-96a6edeb3782)

![게시판 작성](https://github.com/user-attachments/assets/91844281-d333-4049-9929-ad6779d894e8)

#### 지도(장소 검색, 주변 카테고리 검색)
![지도](https://github.com/user-attachments/assets/58e9f58d-6d70-4c0b-a89b-4d3d1bbfeffa)

![지도2](https://github.com/user-attachments/assets/9e77a05d-369d-4d76-bb4b-a130478a1db5)

</details>

<details><summary>마이페이지</summary>

##### 내 정보
 ![마이페이지1](https://github.com/user-attachments/assets/35ab04e8-341a-458e-ada1-ef817547295d)

 ##### 내가 쓴 글
![마이페이지2](https://github.com/user-attachments/assets/2f7660a0-87a4-4359-852e-d7a366b81f7b)

##### 관심 목록
![마이페이지3](https://github.com/user-attachments/assets/f6a39181-c780-445a-bcf9-ec4e7ba8a8e2)

##### 판매 상품
![마이페이지4](https://github.com/user-attachments/assets/4f5dbbba-69e3-485e-8d14-b56d067e43b4)

##### 구매 상품
![마이페이지5](https://github.com/user-attachments/assets/90c2ba61-de7b-417c-932d-969c098b2d0b)

##### 구매 상품(후기 작성 버튼을 통해 후기 작성)
![마이페이지52](https://github.com/user-attachments/assets/356505d9-6019-45e0-968b-5e722af92cf4)

##### 가계부
![마이페이지6](https://github.com/user-attachments/assets/e9b940ad-3ca2-46b9-8de9-a19ab67b963a)

##### 후기
![마이페이지7](https://github.com/user-attachments/assets/d4dc72c4-0d07-4d69-881b-ba83562ff264)

</details>

<details><summary>1:1 문의</summary>

 ##### 문의 작성
![문의](https://github.com/user-attachments/assets/5617e9cf-f85d-4761-8ece-90446a4aeea1)

 ##### 문의 상세 페이지(관리자만 답변 가능)
![문의33](https://github.com/user-attachments/assets/084562bb-9503-4ccc-b9af-4f86990a8c8d)

 ##### 내 문의 내역 확인(답변 대기, 답변 완료 상태로 확인)
![문의4](https://github.com/user-attachments/assets/02573313-cc8a-42e7-b096-51edfb178dce)

</details>

<details><summary>관리자</summary>
 
 ##### 회원 관리
![관리자](https://github.com/user-attachments/assets/6b5dca47-21c0-435e-a99e-c08aaf24085c)

 ##### 특정 회원의 판매, 구매 상품 확인(관리자가 상품 삭제 가능)
![관리자2](https://github.com/user-attachments/assets/22bd7b24-543d-44fb-abd7-dcc0f5362a45)

 ##### 문의
![관리자3](https://github.com/user-attachments/assets/590e43bf-00ce-4e87-8f4f-6fa6652621d7)

 ##### 관리자 문의 작성 페이지
![문의2](https://github.com/user-attachments/assets/f12171a3-f751-461e-8f38-c8fac5baa957)

</details>

 
 ## ⁉ 트러블 슈팅
<details><summary>회원 탈퇴, 상품 삭제 시 데이터 보존</summary>
1. 문제 식별<br>
회원이 탈퇴하거나 상품을 삭제할 경우, 해당 사용자가 올린 상품 정보도 삭제되어 구매자의 상품 구매 기록이 사라지는 문제가 발생<br>
 <br>
2. 문제 해결 접근 방법<br>
구매자에게 보여 줄 최소 상품 정보 컬럼을 추가하여 회원 탈퇴 시, 상품 번호와 회원 아이디는 NULL 처리하여 최소한의 상품 정보는 삭제되지 않고 데이터 보존<br>
 <br>
3. 결과 및 교훈<br>
회원 탈퇴와 같은 데이터 삭제는 복구가 어려우므로 데이터 보존의 필요성을 사전에 인지하고 구매자와 판매자 모두의 관점을 반영하여 신중하게 설계하는 것이 중요하다는 결과를 얻었다.
</details>
<details><summary>실시간으로 프로필 설정 전체 적용</summary>
1. 문제 식별<br>
 사용자 프로필을 마이페이지에서 변경할 경우 navbar의 사용자 프로필 이미지는 실시간으로 반영되지 않는 문제가 발생<br> 
 <br>
2. 문제 해결 접근 방법<br>
 상단 AuthenticalProvider 컴포넌트에서 Context를 이용하여 이미지 변경 요청이 발생하면 응답하여 같이 변경하도록 구현
 <br>
3. 결과 및 교훈<br>
 컴포넌트의 계층 구조를 잘 이해하는 것이 중요하고 상황에 따라 컴포넌트의 구조를 활용해서 사용하는 것에 익숙해져야 겠다는 생각이 들었다.
</details>
